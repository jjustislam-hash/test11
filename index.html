<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Q Luxury</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

<style>
body {
    font-family: "Tajawal", sans-serif;
    background: #faf7f2;
    margin: 0;
    padding: 15px;
}

h2 { text-align: center; }

.size-filter {
  display: flex;
  justify-content: center;
  gap: 14px;
  margin-bottom: 18px;
}

.size-btn {
  padding: 12px 26px;
  border-radius: 12px;
  border: none;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  background: #efefef;
}

.size-btn.active {
  background: #000;
  color: #fff;
}

.product {
    background: #fff;
    padding: 18px;
    margin-bottom: 22px;
    border-radius: 20px;
    box-shadow: 0 4px 10px #00000015;
}

.product img { width: 100%; border-radius: 15px; }

.buyNowBtn {
    background: #000;
    color: white;
    width: 100%;
    padding: 14px;
    border-radius: 14px;
    border: none;
    font-size: 18px;
    cursor: pointer;
}
</style>
</head>

<body>

<h2>ğŸ›ï¸ Ø¹Ø·ÙˆØ±Ù†Ø§</h2>

<div class="size-filter">
  <button id="size100" class="size-btn active">100ml</button>
  <button id="size50" class="size-btn">50ml</button>
  <button id="size30" class="size-btn">30ml</button>
</div>

<div id="products"></div>

<script>

let products = [];
let currentSize = "100ml";

fetch("products.json")
.then(res => res.json())
.then(data => {
    products = data;
    loadProducts();
});

function setActive(size){
  document.querySelectorAll(".size-btn").forEach(btn => btn.classList.remove("active"));
  document.getElementById("size"+size.replace("ml","")).classList.add("active");
}

document.getElementById("size100").onclick = () => {
  currentSize = "100ml";
  setActive(currentSize);
  loadProducts();
};

document.getElementById("size50").onclick = () => {
  currentSize = "50ml";
  setActive(currentSize);
  loadProducts();
};

document.getElementById("size30").onclick = () => {
  currentSize = "30ml";
  setActive(currentSize);
  loadProducts();
};

function loadProducts(){
    const box = document.getElementById("products");
    box.innerHTML = "";

    products.forEach((p, i)=>{

        const option = p.options.find(o => o.size === currentSize);
        if(!option) return;

        box.innerHTML += `
            <div class="product">
                <img src="${option.img}" alt="${p.name}">
                <h3>${p.name}</h3>
                <p>${option.desc}</p>
                <p><b>â‚ª${option.price}</b></p>
                <button class="buyNowBtn" onclick="buyNow(${i})">
                    Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†
                </button>
            </div>
        `;
    });
}

function buyNow(i){
    const product = products[i];
    const option = product.options.find(o => o.size === currentSize);

    const msg = 
`Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯:
Ø§Ù„Ù…Ù†ØªØ¬: ${product.name}
Ø§Ù„Ø­Ø¬Ù…: ${currentSize}
Ø§Ù„Ø³Ø¹Ø±: â‚ª${option.price}`;

    window.location.href = "https://wa.me/970595479161?text=" + encodeURIComponent(msg);
}

</script>

</body>
</html>
